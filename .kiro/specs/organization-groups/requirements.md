# מסמך דרישות - שיוך קבוצות בתוך ארגונים

## מבוא

המערכת הנוכחית מאפשרת למשתמשים להיות משויכים לארגונים. התכונה החדשה תוסיף שכבת קבוצות בתוך הארגונים, כך שמשתמשים יהיו משויכים גם לארגון וגם לקבוצה ספציפית בתוך הארגון. זה יאפשר ניהול מפורט יותר של משתמשים ותמיכה בהיררכיה ארגונית מורכבת יותר.

## מילון מונחים

- **System**: המערכת הכוללת (Next.js עם Supabase)
- **Organization**: ארגון - יחידה ארגונית עליונה
- **Group**: קבוצה - יחידה ארגונית בתוך ארגון
- **User**: משתמש במערכת
- **Admin_Interface**: ממשק הניהול למנהלי המערכת
- **User_Creation_Screen**: מסך יצירת משתמשים חדשים
- **User_Profile**: פרופיל המשתמש המציג מידע אישי
- **Group_Manager**: מנהל קבוצה - משתמש עם הרשאות ניהול קבוצה

## דרישות

### דרישה 1: ניהול קבוצות בתוך ארגונים

**סיפור משתמש:** כמנהל מערכת, אני רוצה ליצור ולנהל קבוצות בתוך ארגונים, כדי שאוכל לארגן משתמשים בצורה היררכית ומפורטת יותר.

#### קריטריוני קבלה

1. כאשר מנהל מערכת ניגש לממשק הניהול, המערכת תציג אפשרות לניהול קבוצות עבור כל ארגון
2. כאשר מנהל מערכת יוצר קבוצה חדשה, המערכת תדרוש שם קבוצה ותשייך אותה לארגון ספציפי
3. כאשר מנהל מערכת עורך קבוצה קיימת, המערכת תאפשר שינוי שם הקבוצה אך לא את הארגון שלה
4. כאשר מנהל מערכת מוחק קבוצה, המערכת תמנע מחיקה אם יש משתמשים משויכים לקבוצה
5. כאשר מנהל מערכת צופה ברשימת קבוצות, המערכת תציג את שם הקבוצה, הארגון שלה ומספר המשתמשים בה

### דרישה 2: שיוך משתמשים לקבוצות

**סיפור משתמש:** כמנהל מערכת, אני רוצה לשייך משתמשים לקבוצות ספציפיות בתוך הארגון שלהם, כדי שאוכל לנהל הרשאות ותפקידים ברמת הקבוצה.

#### קריטריוני קבלה

1. כאשר משתמש נוצר, המערכת תדרוש בחירת ארגון וקבוצה בתוך הארגון
2. כאשר ארגון נבחר במסך יצירת משתמש, המערכת תציג רק קבוצות השייכות לארגון הנבחר
3. כאשר משתמש קיים מעודכן, המערכת תאפשר שינוי הקבוצה שלו רק לקבוצות באותו ארגון
4. כאשר משתמש מועבר לארגון אחר, המערכת תדרוש בחירת קבוצה חדשה בארגון החדש
5. כאשר קבוצה נמחקת, המערכת תמנע מחיקה אם יש משתמשים משויכים אליה

### דרישה 3: תצוגת מידע קבוצה למשתמש

**סיפור משתמש:** כמשתמש במערכת, אני רוצה לראות לאיזו קבוצה אני שייך, כדי שאבין את מיקומי בהיררכיה הארגונית.

#### קריטריוני קבלה

1. כאשר משתמש צופה בפרופיל שלו, המערכת תציג את שם הארגון ושם הקבוצה שלו
2. כאשר מידע הקבוצה מוצג, המערכת תציג אותו בפורמט ברור וקריא
3. כאשר משתמש אינו משויך לקבוצה, המערכת תציג הודעה מתאימה
4. כאשר מידע הקבוצה מתעדכן, המערכת תעדכן את התצוגה מיידית

### דרישה 4: אבטחת נתונים וגישה

**סיפור משתמש:** כמנהל אבטחה, אני רוצה שגישה למידע קבוצות תהיה מוגבלת לפי הרשאות, כדי לשמור על אבטחת המידע הארגוני.

#### קריטריוני קבלה

1. כאשר משתמש מנסה לגשת למידע קבוצות, המערכת תבדוק את הרשאותיו
2. כאשר משתמש רגיל מנסה לגשת לניהול קבוצות, המערכת תמנע גישה ותציג הודעת שגיאה
3. כאשר מנהל ארגון מנסה לנהל קבוצות, המערכת תאפשר גישה רק לקבוצות בארגון שלו
4. כאשר מנהל מערכת מנסה לנהל קבוצות, המערכת תאפשר גישה לכל הקבוצות במערכת

### דרישה 5: שמירת תאימות עם מערכת קיימת

**סיפור משתמש:** כמפתח מערכת, אני רוצה שהתכונה החדשה תשתלב בצורה חלקה עם המערכת הקיימת, כדי שלא תפגע בפונקציונליות הנוכחת.

#### קריטריוני קבלה

1. כאשר המערכת מתעדכנת, כל המשתמשים הקיימים יישארו עם השיוך הארגוני הנוכח שלהם
2. כאשר משתמש קיים אינו משויך לקבוצה, המערכת תמשיך לפעול כרגיל
3. כאשר API קיים נקרא, המערכת תמשיך להחזיר תגובות תואמות
4. כאשר מסכים קיימים נטענים, המערכת תציג אותם ללא שגיאות

### דרישה 6: ממשק משתמש אינטואיטיבי

**סיפור משתמש:** כמשתמש במערכת, אני רוצה שהממשק לניהול קבוצות יהיה פשוט ואינטואיטיבי, כדי שאוכל להשתמש בו ביעילות.

#### קריטריוני קבלה

1. כאשר מנהל מערכת ניגש לניהול קבוצות, המערכת תציג ממשק ברור ומובן
2. כאשר שגיאה מתרחשת בניהול קבוצות, המערכת תציג הודעת שגיאה ברורה בעברית
3. כאשר פעולה מצליחה, המערכת תציג הודעת הצלחה ותעדכן את התצוגה
4. כאשר טופס נשלח, המערכת תספק משוב ויזואלי על מצב הטעינה

### דרישה 7: ביצועים ויציבות

**סיפור משתמש:** כמנהל מערכת, אני רוצה שהתכונה החדשה תפעל ביעילות גם עם מספר רב של ארגונים וקבוצות, כדי שהמערכת תישאר מהירה ויציבה.

#### קריטריוני קבלה

1. כאשר המערכת טוענת רשימת קבוצות, היא תעשה זאת תוך פחות מ-2 שניות
2. כאשר משתמש מבצע פעולת עדכון קבוצה, המערכת תעדכן את הנתונים תוך פחות משנייה אחת
3. כאשר המערכת מכילה יותר מ-1000 קבוצות, היא תמשיך לפעול ביעילות
4. כאשר מספר משתמשים גדול ניגש למערכת בו-זמנית, המערכת תמשיך להגיב במהירות